<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kubernetes YAML Challenge Series</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; max-width: 900px; margin: 0 auto; padding: 20px; background-color: #f4f7f6; }
        h1 { color: #326ce5; border-bottom: 2px solid #326ce5; padding-bottom: 10px; }
        .challenge-card { background: white; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-bottom: 30px; overflow: hidden; border-left: 5px solid #326ce5; }
        .header { background: #eef2ff; padding: 15px 20px; font-weight: bold; display: flex; justify-content: space-between; }
        .code-block { background: #282c34; color: #abb2bf; padding: 20px; font-family: 'Courier New', Courier, monospace; overflow-x: auto; white-space: pre; }
        .key { color: #e06c75; font-weight: bold; } /* Reddish */
        .val { color: #98c379; } /* Greenish */
        .comment { color: #5c6370; font-style: italic; }
        .ans-btn { background: #326ce5; color: white; border: none; padding: 10px 20px; cursor: pointer; width: 100%; font-size: 16px; transition: 0.3s; }
        .ans-btn:hover { background: #2755b8; }
        .answer { display: none; padding: 20px; background: #fff9db; border-top: 1px solid #ffe066; }
        .tag { background: #326ce5; color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px; }
    </style>
</head>
<body>

    <h1>☸️ Kubernetes YAML Bug-Hunt</h1>
    <p>Find the errors in the 10 YAML snippets below. Click "Show Answer" to verify.</p>

    <div class="challenge-card">
        <div class="header">Challenge 1: The Indentation Trap <span class="tag">Beginner</span></div>
        <div class="code-block">
<span class="key">apiVersion</span>: v1
<span class="key">kind</span>: Pod
<span class="key">metadata</span>:
  <span class="key">name</span>: web-pod
 <span class="key">spec</span>: <span class="comment"># Something is wrong here...</span>
  <span class="key">containers</span>:
  - <span class="key">name</span>: nginx
    <span class="key">image</span>: nginx:latest</div>
        <button class="ans-btn" onclick="toggle(1)">Show Answer</button>
        <div id="ans1" class="answer">
            <strong>The Error:</strong> Indentation. The <code>spec</code> key has a leading space. It must align perfectly with <code>metadata</code>.
        </div>
    </div>

    <div class="challenge-card">
        <div class="header">Challenge 2: The Missing List <span class="tag">Beginner</span></div>
        <div class="code-block">
<span class="key">spec</span>:
  <span class="key">containers</span>:
    <span class="key">name</span>: alpine <span class="comment"># Where is the dash?</span>
    <span class="key">image</span>: alpine</div>
        <button class="ans-btn" onclick="toggle(2)">Show Answer</button>
        <div id="ans2" class="answer">
            <strong>The Error:</strong> <code>containers</code> is an array. You need a <code>-</code> before <code>name</code>.
        </div>
    </div>

    <div class="challenge-card">
        <div class="header">Challenge 3: API Group Confusion <span class="tag">Intermediate</span></div>
        <div class="code-block">
<span class="key">apiVersion</span>: v1
<span class="key">kind</span>: Deployment
<span class="key">metadata</span>:
  <span class="key">name</span>: my-deploy</div>
        <button class="ans-btn" onclick="toggle(3)">Show Answer</button>
        <div id="ans3" class="answer">
            <strong>The Error:</strong> Deployments belong to <code>apps/v1</code>, not <code>v1</code>.
        </div>
    </div>

    <div class="challenge-card">
        <div class="header">Challenge 4: The Label Mismatch <span class="tag">Intermediate</span></div>
        <div class="code-block">
<span class="comment"># Service Selector</span>
<span class="key">selector</span>:
  <span class="key">app</span>: frontend
---
<span class="comment"># Pod Label</span>
<span class="key">labels</span>:
  <span class="key">app</span>: web-ui</div>
        <button class="ans-btn" onclick="toggle(4)">Show Answer</button>
        <div id="ans4" class="answer">
            <strong>The Error:</strong> The Service is looking for 'frontend', but the Pod is 'web-ui'. They won't connect!
        </div>
    </div>

    <div class="challenge-card">
        <div class="header">Challenge 5: Duplicate Keys <span class="tag">Intermediate</span></div>
        <div class="code-block">
<span class="key">labels</span>:
  <span class="key">env</span>: prod
<span class="key">labels</span>:
  <span class="key">team</span>: ops</div>
        <button class="ans-btn" onclick="toggle(5)">Show Answer</button>
        <div id="ans5" class="answer">
            <strong>The Error:</strong> You cannot have the same key (<code>labels</code>) twice in the same block.
        </div>
    </div>

    <div class="challenge-card">
        <div class="header">Challenge 6: Invalid CPU Units <span class="tag">Advanced</span></div>
        <div class="code-block">
<span class="key">resources</span>:
  <span class="key">requests</span>:
    <span class="key">cpu</span>: <span class="val">"500mb"</span></div>
        <button class="ans-btn" onclick="toggle(6)">Show Answer</button>
        <div id="ans6" class="answer">
            <strong>The Error:</strong> CPU is measured in cores or millicores (<code>500m</code>), not megabytes (<code>mb</code>).
        </div>
    </div>

    <div class="challenge-card">
        <div class="header">Challenge 7: Selector Immutability <span class="tag">Advanced</span></div>
        <div class="code-block">
<span class="key">selector</span>:
  <span class="key">matchLabels</span>:
    <span class="key">app</span>: nginx
<span class="key">template</span>:
  <span class="key">metadata</span>:
    <span class="key">labels</span>:
      <span class="key">app</span>: webserver</div>
        <button class="ans-btn" onclick="toggle(7)">Show Answer</button>
        <div id="ans7" class="answer">
            <strong>The Error:</strong> The Deployment selector MUST match the labels in the Pod template.
        </div>
    </div>

    <div class="challenge-card">
        <div class="header">Challenge 8: Volume Reference <span class="tag">Advanced</span></div>
        <div class="code-block">
<span class="key">volumeMounts</span>:
- <span class="key">name</span>: data
<span class="key">volumes</span>:
- <span class="key">name</span>: config</div>
        <button class="ans-btn" onclick="toggle(8)">Show Answer</button>
        <div id="ans8" class="answer">
            <strong>The Error:</strong> The <code>volumeMounts</code> name must match an existing name in the <code>volumes</code> list.
        </div>
    </div>

    <div class="challenge-card">
        <div class="header">Challenge 9: Port Name Duplicates <span class="tag">Expert</span></div>
        <div class="code-block">
<span class="key">ports</span>:
- <span class="key">port</span>: 80
  <span class="key">name</span>: http
- <span class="key">port</span>: 443
  <span class="key">name</span>: http</div>
        <button class="ans-btn" onclick="toggle(9)">Show Answer</button>
        <div id="ans9" class="answer">
            <strong>The Error:</strong> Port names within a Service must be unique. You can't have two named 'http'.
        </div>
    </div>

    <div class="challenge-card">
        <div class="header">Challenge 10: Probe Logic <span class="tag">Expert</span></div>
        <div class="code-block">
<span class="key">livenessProbe</span>:
  <span class="key">periodSeconds</span>: 10
  <span class="key">timeoutSeconds</span>: 15</div>
        <button class="ans-btn" onclick="toggle(10)">Show Answer</button>
        <div id="ans10" class="answer">
            <strong>The Error:</strong> Timeout cannot be greater than the period. You can't wait 15s for a check that happens every 10s.
        </div>
    </div>

    <script>
        function toggle(id) {
            var x = document.getElementById("ans" + id);
            if (x.style.display === "block") {
                x.style.display = "none";
            } else {
                x.style.display = "block";
            }
        }
    </script>

</body>
</html>